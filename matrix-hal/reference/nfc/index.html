<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NFC MATRIX</title>
  <link rel="shortcut icon" href="../../../img/favicon.ico">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../../css/theme.css">
  <link rel="stylesheet" href="../../../css/codehilite.css">
  <link rel="stylesheet" href="../../../css/superFences.css">
  <link rel="stylesheet" href="../../../css/clipboard.css">
  <link rel="stylesheet" href="../../../css/details.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
</head>

<body data-spy="scroll">
  <nav class="navbar navbar-expand-lg navbar-light container">
  <a class="navbar-brand" href="../../..">
    <img src="../../../img/everloop.png" width="38" height="38" class="d-inline-block align-top" alt="">
    <span>MATRIX</span>
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
  	<span class="navbar-toggler-icon"></span>
  </button>
</nav>

  <div class="header">
    <div class="container">
      <div class="jumbotron">
        <div class="row">
          <div class="col-sm-8">
            
            <h1>NFC</h1>
            
          </div>
          <div class="col-sm-4">
            <form action="../../../search.html" method="get">
              <input class="form-control" type="search" name="q" placeholder="Search" />
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="content">
    <div class="container">
      <div class="row">
        <div class="sidebar col-lg-2">
          <div class="collapse navbar-collapse" id="navbar-menu">
            <h3>Documentation</h3>
            <ul>
                

<!-- link to depth-first url found  -->
  

<!-- If there are no children, use the url (simple)  -->
<li>
  <a href="../../.." class="">
    Overview
  </a>
</li>


  

<!-- link to depth-first url found  -->
  

<!-- If there are no children, use the url (simple)  -->
<li>
  <a href="../../../help/" class="">
    Support
  </a>
</li>


  


<!-- Children complicate things  -->

<!-- link to depth-first url found  -->
  

<!-- print root node  -->
<li class="">
  <a href="../../../matrix-creator/overview/" class="">
    MATRIX Creator
  </a>
</li>

<ul class="subnav">
   
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-creator/overview/" class="">Overview</a></li>
     
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-creator/device-setup/" class="">Device Setup</a></li>
     
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-creator/resources/overview/" class="">
      Resources
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
        
        
        
      
  </ul>

    
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-creator/troubleshooting/" class="">Troubleshooting</a></li>
    
</ul>

  


<!-- Children complicate things  -->

<!-- link to depth-first url found  -->
  

<!-- print root node  -->
<li class="">
  <a href="../../../matrix-voice/overview/" class="">
    MATRIX Voice
  </a>
</li>

<ul class="subnav">
   
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-voice/overview/" class="">Overview</a></li>
     
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-voice/device-setup/" class="">Device Setup</a></li>
     
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-voice/esp32/" class="">ESP32</a></li>
     
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-voice/resources/overview/" class="">
      Resources
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
        
      
  </ul>

    
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-voice/troubleshooting/" class="">Troubleshooting</a></li>
    
</ul>

  


<!-- Children complicate things  -->

<!-- link to depth-first url found  -->
  

<!-- print root node  -->
<li class="">
  <a href="../../../matrix-lite/overview/" class="">
    MATRIX Lite
  </a>
</li>

<ul class="subnav">
   
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-lite/overview/" class="">Overview</a></li>
     
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-lite/getting-started/" class="">
      Getting Started
    </a>
  </li>

  <ul class="subnav">
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-lite/js-reference/" class="">
      JavaScript Reference
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-lite/py-reference/" class="">
      Python Reference
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-lite/go-reference/" class="">
      Go Reference
    </a>
  </li>

  <ul class="subnav">
        
        
        
      
  </ul>

   
</ul>

  


<!-- Children complicate things  -->

<!-- link to depth-first url found  -->
  

<!-- print root node  -->
<li class="">
  <a href="../../overview/" class="active">
    MATRIX HAL
  </a>
</li>

<ul class="subnav">
   
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../overview/" class="">Overview</a></li>
     
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../getting-started/" class="">
      Getting Started
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../" class="active">
      References
    </a>
  </li>

  <ul class="subnav">
        
    
    <li><a href="../everloop/" class="">Everloop</a></li>
        
    
    <li><a href="../humidity/" class="">Humidity</a></li>
        
    
    <li><a href="../imu/" class="">IMU</a></li>
        
    
    <li><a href="../pressure/" class="">Pressure</a></li>
        
    
    <li><a href="../uv/" class="">UV</a></li>
        
    
    <li><a href="../gpio/" class="">GPIO</a></li>
        
    
    <li><a href="../microphone/" class="">Microphone</a></li>
        
    
    <li><a href="./" class="active">NFC</a></li>
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../examples/" class="">
      Examples
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
        
        
        
      
  </ul>

    
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../troubleshooting/" class="">Troubleshooting</a></li>
    
</ul>

  


<!-- Children complicate things  -->

<!-- link to depth-first url found  -->
  

<!-- print root node  -->
<li class="">
  <a href="../../../matrix-core/overview/" class="">
    MATRIX Core
  </a>
</li>

<ul class="subnav">
   
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-core/overview/" class="">Overview</a></li>
     
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-core/getting-started/" class="">
      Getting Started
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-core/protocols/" class="">
      Driver Protocols
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-core/javascript-examples/" class="">
      Javascript Examples
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-core/python-examples/" class="">
      Python Examples
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
        
        
      
  </ul>

    
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-core/troubleshooting/" class="">Troubleshooting</a></li>
    
</ul>

 
              <!-- <li><a target="_blank" href="https://www.hackster.io/matrix-labs">Projects</a></li> -->
            </ul>
          </div>
        </div>
        <div id="content" class="col-lg-8 col-md-9 md-typeset">
           <h2 style="padding-top:0">NFC</h2>

<h3 id="device-compatibility">Device Compatibility</h3>
<p><img class="creator-compatibility-icon" src="../../img/creator-icon.svg"></p>
<h2 id="overview">Overview</h2>
<p>The NFC abstraction supports:</p>
<ul>
<li>Reading Info (All tags)</li>
<li>Reading Page (MIFARE Ultralight &amp; NTAG)</li>
<li>Writing Page (MIFARE Ultralight &amp; NTAG)</li>
<li>Reading NDEF (MIFARE Ultralight &amp; NTAG)</li>
<li>Writing NDEF (MIFARE Ultralight &amp; NTAG)</li>
</ul>
<h2 id="references">References</h2>
<p>Below is the overview of the NFC abstraction. Code examples can be found <a href="../../../matrix-hal/examples/nfc">here</a>.</p>
<p>These header files are required to use NFC.</p>
<div class="codehilite"><pre><span></span><span class="c1">// The main library import</span>
<span class="cp">#include</span> <span class="cpf">&quot;matrix_nfc/nfc.h&quot;</span><span class="cp"></span>
<span class="c1">// Holds data for NFC</span>
<span class="cp">#include</span> <span class="cpf">&quot;matrix_nfc/nfc_data.h&quot;</span><span class="cp"></span>
</pre></div>

<blockquote>
<p>Only one instance of NFC is supported at a time, making multiple instances of the NFC object may lead to undesired behavior.</p>
</blockquote>
<p>Most functions that execute NFC sensor commands return status codes, and the <code>NFCStatus</code> function can be used to get a string corresponding to the status code, the examples below show usage.</p>
<h3 id="classes-for-nfc-tag-commands">Classes for NFC tag commands</h3>
<details class="info" open="open"><summary>NFC</summary><p>The main <code>NFC</code> class has an instance of the <code>NDEF</code> class, and an instance of the <code>MFUL</code> &amp; <code>NTAG</code> classes. These classes are used to perform NDEF operations and page read/write operations on NFC tags.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Create NFC object</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFC</span> <span class="n">nfc</span><span class="p">;</span>
</pre></div>

<details class="summary"><summary>.Activate</summary><p>The function <code>Activate</code> activates an NFC tag. This is required before using any other function.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="kt">int</span> <span class="n">status_code</span> <span class="o">=</span> <span class="n">nfc</span><span class="p">.</span><span class="n">Activate</span><span class="p">();</span>
<span class="c1">// To print a string corresponding to the status code</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCStatus</span><span class="p">(</span><span class="n">status_code</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">int</span> <span class="nf">Activate</span><span class="p">();</span>
</pre></div>

</details>
<details class="summary"><summary>.Deactivate</summary><p>The function <code>Deactivate</code> deactivates an NFC tag. This stops communications between the NFC sensor and NFC tag and should be performed after the desired command has finished.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="kt">int</span> <span class="n">status_code</span> <span class="o">=</span> <span class="n">nfc</span><span class="p">.</span><span class="n">Deactivate</span><span class="p">();</span>
<span class="c1">// To print a string corresponding to the status code</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCStatus</span><span class="p">(</span><span class="n">status_code</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">int</span> <span class="nf">Deactivate</span><span class="p">();</span>
</pre></div>

</details>
<details class="summary"><summary>.ReadInfo</summary><p>The function <code>ReadInfo</code> accepts an <code>InfoContent</code> object and populates it with tag information.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCData</span> <span class="n">data</span> <span class="o">=</span> <span class="n">NFCData</span><span class="p">();</span>
<span class="c1">// Must first activate card</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Activate</span><span class="p">();</span>
<span class="kt">int</span> <span class="n">status_code</span> <span class="o">=</span> <span class="n">nfc</span><span class="p">.</span><span class="n">ReadInfo</span><span class="p">(</span><span class="o">&amp;</span><span class="n">data</span><span class="p">.</span><span class="n">info</span><span class="p">);</span>
<span class="c1">// To print a string corresponding to the status code</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCStatus</span><span class="p">(</span><span class="n">status_code</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// Deactivate the card after completing desired action</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Deactivate</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">int</span> <span class="nf">ReadInfo</span><span class="p">(</span><span class="n">InfoContent</span><span class="o">*</span> <span class="n">nfc_info</span><span class="p">);</span>
</pre></div>

</details>
</details>
<details class="info" open="open"><summary>NDEF</summary><p>The <code>NDEF</code> class is used for NDEF operations on tags. This class is nested within the <code>NFC</code> class above, and should not be manually instantiated.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Create NFC object</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFC</span> <span class="n">nfc</span><span class="p">;</span>
</pre></div>

<details class="summary"><summary>.Read</summary><p>The function <code>Read</code> reads the NDEF content from an NFC tag and populates a <code>NDEFContent</code> object with the read NDEF information. For more info see the <code>NDEFContent</code> class.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCData</span> <span class="n">data</span> <span class="o">=</span> <span class="n">NFCData</span><span class="p">();</span>
<span class="c1">// Must first activate card</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Activate</span><span class="p">();</span>
<span class="kt">int</span> <span class="n">status_code</span> <span class="o">=</span> <span class="n">nfc</span><span class="p">.</span><span class="n">ndef</span><span class="p">.</span><span class="n">Read</span><span class="p">(</span><span class="o">&amp;</span><span class="n">data</span><span class="p">.</span><span class="n">ndef</span><span class="p">);</span>
<span class="c1">// To print a string corresponding to the status code</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCStatus</span><span class="p">(</span><span class="n">status_code</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// Deactivate the card after completing desired action</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Deactivate</span><span class="p">();</span>

<span class="c1">// Function declaration in header file </span>
<span class="kt">int</span> <span class="nf">Read</span><span class="p">(</span><span class="n">NDEFContent</span><span class="o">*</span> <span class="n">ndef_content</span><span class="p">);</span>
</pre></div>

</details>
<details class="summary"><summary>.Write</summary><p>The function <code>Write</code> writes provided NDEF content to a NFC tag. It is an overloaded function, accepting either a pointer to a <code>NDEFContent</code> object or a pointer to a <code>NDEFParser</code> object. For more info see the <code>NDEFContent</code> and <code>NDEFParser</code> classes.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCData</span> <span class="n">data</span> <span class="o">=</span> <span class="n">NFCData</span><span class="p">();</span>
<span class="c1">// Must first activate card</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Activate</span><span class="p">();</span>
<span class="kt">int</span> <span class="n">status_code</span> <span class="o">=</span> <span class="n">nfc</span><span class="p">.</span><span class="n">ndef</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="o">&amp;</span><span class="n">data</span><span class="p">.</span><span class="n">ndef</span><span class="p">)</span>
<span class="c1">// To print a string corresponding to the status code</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCStatus</span><span class="p">(</span><span class="n">status_code</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// Deactivate the card after completing desired action</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Deactivate</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">int</span> <span class="nf">Write</span><span class="p">(</span><span class="n">NDEFContent</span><span class="o">*</span> <span class="n">ndef_content</span><span class="p">);</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Must first activate card</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Activate</span><span class="p">();</span>
<span class="kt">int</span> <span class="n">status_code</span> <span class="o">=</span> <span class="n">nfc</span><span class="p">.</span><span class="n">ndef</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ndef_parser</span><span class="p">)</span>
<span class="c1">// To print a string corresponding to the status code</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCStatus</span><span class="p">(</span><span class="n">status_code</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// Deactivate the card after completing desired action</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Deactivate</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">int</span> <span class="nf">Write</span><span class="p">(</span><span class="n">NDEFParser</span><span class="o">*</span> <span class="n">ndef_parser</span><span class="p">);</span>
</pre></div>

</details>
<details class="summary"><summary>.Erase</summary><p>The function <code>Erase</code> erases the NDEF content on a NFC tag.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="c1">// Must first activate card</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Activate</span><span class="p">();</span>
<span class="kt">int</span> <span class="n">status_code</span> <span class="o">=</span> <span class="n">nfc</span><span class="p">.</span><span class="n">ndef</span><span class="p">.</span><span class="n">Erase</span><span class="p">();</span>
<span class="c1">// To print a string corresponding to the status code</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCStatus</span><span class="p">(</span><span class="n">status_code</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// Deactivate the card after completing desired action</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Deactivate</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">int</span> <span class="nf">Erase</span><span class="p">();</span>
</pre></div>

</details>
</details>
<details class="info" open="open"><summary>MFUL &amp; NTAG</summary><p>The <code>MFUL</code> and <code>NTAG</code> classes are used for page read and write operations on MIFARE Ultralight(MFUL) and NTAG type NFC tags respectively.
This class is nested within the <code>NFC</code> class above, and should not be manually instantiated.</p>
<p>For all usage examples <code>nfc.mful</code> will be used, but substituting that out for <code>nfc.ntag</code> will use the functions from the NTAG class instead. Both classes have the same function names and declarations.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Create NFC object</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFC</span> <span class="n">nfc</span><span class="p">;</span>
</pre></div>

<details class="summary"><summary>.ReadPage</summary><p>The function <code>ReadPage</code> accepts a page number and reads the specified page from the tag. The page is returned as a vector. If the specified page does not exist or the read fails then an empty vector will be returned.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="c1">// Must first activate card</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Activate</span><span class="p">();</span>
<span class="c1">// Read page 10 from the card</span>
<span class="kt">int</span> <span class="n">page_number</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span> <span class="n">read_page</span> <span class="o">=</span> <span class="n">nfc</span><span class="p">.</span><span class="n">mful</span><span class="p">.</span><span class="n">ReadPage</span><span class="p">(</span><span class="n">page_number</span><span class="p">);</span>
<span class="c1">// To print the vector&#39;s contents as a hex string</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">matrix_hal</span><span class="o">::</span><span class="n">PagesContent</span><span class="o">::</span><span class="n">BytesToString</span><span class="p">(</span><span class="n">read_page</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// Deactivate the card after completing desired action</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Deactivate</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span> <span class="n">ReadPage</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">page_number</span><span class="p">);</span>
</pre></div>

</details>
<details class="summary"><summary>.ReadPages</summary><p>The function <code>ReadPages</code> accepts a pointer to a <code>PagesContent</code> object and populates it with all read pages. For more info see the <code>PagesContent</code> class.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCData</span> <span class="n">data</span> <span class="o">=</span> <span class="n">NFCData</span><span class="p">();</span>
<span class="c1">// Must first activate card</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Activate</span><span class="p">();</span>
<span class="kt">int</span> <span class="n">status_code</span> <span class="o">=</span> <span class="n">nfc</span><span class="p">.</span><span class="n">mful</span><span class="p">.</span><span class="n">ReadPages</span><span class="p">(</span><span class="o">&amp;</span><span class="n">data</span><span class="p">.</span><span class="n">pages</span><span class="p">);</span>
<span class="c1">// To print a string corresponding to the status code</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCStatus</span><span class="p">(</span><span class="n">status_code</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// To print the contents of pages as hex</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Hex:</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">data</span><span class="p">.</span><span class="n">pages</span><span class="p">.</span><span class="n">ToHex</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// To print the contents of pages as a char string</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;String:</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">data</span><span class="p">.</span><span class="n">pages</span><span class="p">.</span><span class="n">ToString</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// Deactivate the card after completing desired action</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Deactivate</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">int</span> <span class="nf">ReadPages</span><span class="p">(</span><span class="n">PagesContent</span><span class="o">*</span> <span class="n">pages_content</span><span class="p">);</span>
</pre></div>

</details>
<details class="summary"><summary>.WritePage</summary><blockquote>
<p>⚠️Caution: Writing to specific pages may lock or password protect tag, please view specific NFC tag IC datasheet for more information⚠️.</p>
</blockquote>
<p>NFC tag IC can be found by using the <code>ReadInfo</code> function (in <code>NFC</code> class) and then accessing the <code>IC_type</code> field in <code>InfoContent</code> object.</p>
<p>The function <code>WritePage</code> accepts a page number and a byte vector and writes the byte vector to the desired page.
For MFUL and NTAG type cards the page length is always 4.
Passing a vector with a length above 4 will result in truncation.
Passing a vector with a length below 4 will result in undefined behavior.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="c1">// Must first activate card</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Activate</span><span class="p">();</span>
<span class="c1">// Write &quot;taco&quot; to page 10</span>
<span class="kt">int</span> <span class="n">page_number</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">write_str</span> <span class="o">=</span> <span class="s">&quot;taco&quot;</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span> <span class="n">write_data</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">write_str</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">write_str</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
<span class="kt">int</span> <span class="n">status_code</span> <span class="o">=</span> <span class="n">nfc</span><span class="p">.</span><span class="n">mful</span><span class="p">.</span><span class="n">WritePage</span><span class="p">(</span><span class="n">page_number</span><span class="p">,</span> <span class="n">write_data</span><span class="p">);</span>
<span class="c1">// To print a string corresponding to the status code</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCStatus</span><span class="p">(</span><span class="n">status_code</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// Deactivate the card after completing desired action</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Deactivate</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">int</span> <span class="nf">WritePage</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">page_number</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;&amp;</span> <span class="n">write_data</span><span class="p">);</span>
</pre></div>

</details>
</details>
<h3 id="classes-for-nfc-data-storage">Classes for NFC data storage</h3>
<details class="info" open="open"><summary>NFCData</summary><p>The <code>NFCData</code> class has an instance of the <code>InfoContent</code> class, <code>PagesContent</code> class and <code>NDEFContent</code> class.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Create NFCData object</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCData</span> <span class="n">data</span> <span class="o">=</span> <span class="n">NFCData</span><span class="p">();</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="c1">// All class data members</span>
<span class="n">InfoContent</span> <span class="n">info</span> <span class="o">=</span> <span class="n">InfoContent</span><span class="p">();</span>
<span class="n">PagesContent</span> <span class="n">pages</span> <span class="o">=</span> <span class="n">PagesContent</span><span class="p">();</span>
<span class="n">NDEFContent</span> <span class="n">ndef</span> <span class="o">=</span> <span class="n">NDEFContent</span><span class="p">();</span>
</pre></div>

</details>
<details class="info" open="open"><summary>InfoContent</summary><p>The <code>InfoContent</code> class holds tag identification information.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Create NFCData object</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCData</span> <span class="n">data</span> <span class="o">=</span> <span class="n">NFCData</span><span class="p">();</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="c1">// All class data members</span>
<span class="kt">bool</span> <span class="n">recently_updated</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">// Updated to true upon successful read, else set to false</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span> <span class="n">UID</span><span class="p">;</span> <span class="c1">// Unique tag id</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span> <span class="n">ATQ</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">SAK</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">bit_rate</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="c1">// In bits/second (baud)</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">technology</span> <span class="o">=</span> <span class="s">&quot;null&quot;</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">type</span> <span class="o">=</span> <span class="s">&quot;null&quot;</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">card_family</span> <span class="o">=</span> <span class="s">&quot;null&quot;</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">IC_type</span> <span class="o">=</span> <span class="s">&quot;null&quot;</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">storage_size</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="c1">// In bytes</span>
</pre></div>

<p>All examples below assume that an NFCData object was created and that the <code>info</code> member has already been populated by use of <code>ReadInfo</code> (from <code>NFC</code> class).</p>
<details class="summary"><summary>.UIDToHex</summary><p>The function <code>UIDToHex</code> will return the UID as a hex string.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">UID</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">info</span><span class="p">.</span><span class="n">UIDToHex</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">UIDToHex</span><span class="p">();</span>
</pre></div>

</details>
<details class="summary"><summary>.ATQToHex</summary><p>The function <code>ATQToHex</code> will return the ATQ as a hex string.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ATQ</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">info</span><span class="p">.</span><span class="n">ATQToHex</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ATQToHex</span><span class="p">();</span>
</pre></div>

</details>
<details class="summary"><summary>.SAKToHex</summary><p>The function <code>SAKToHex</code> will return the SAK as a hex string.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">SAK</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">info</span><span class="p">.</span><span class="n">SAKToHex</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">SAKToHex</span><span class="p">();</span>
</pre></div>

</details>
<details class="summary"><summary>.ToString</summary><p>The function <code>ToString</code> will return a string with all class parameters.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">info_string</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">info</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ToString</span><span class="p">();</span>
</pre></div>

</details>
</details>
<details class="info" open="open"><summary>NDEFContent</summary><p>The <code>NDEFContent</code> class holds the NDEF data that was read.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Create NFCData object</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCData</span> <span class="n">data</span> <span class="o">=</span> <span class="n">NFCData</span><span class="p">();</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="c1">// All class data members</span>
<span class="kt">bool</span> <span class="n">recently_updated</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">// Updated to true upon successful read, to false if read did not succeed or if card was not activated</span>
<span class="kt">bool</span> <span class="n">valid</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">// Updated to true if NDEF is valid, updated to false if NDEF is not detected</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span> <span class="n">content</span><span class="p">;</span> <span class="c1">// Raw NDEF message read from the NFC Tag</span>
</pre></div>

<p>All examples below assume that an NFCData object was created and that the <code>ndef</code> member has already been populated by use of <code>Read</code> (from <code>NDEF</code> class).</p>
<details class="summary"><summary>.ToHex</summary><p>The function <code>ToHex</code> will return the NDEF data as a hex string.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">hex_ndef</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">ndef</span><span class="p">.</span><span class="n">ToHex</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ToHex</span><span class="p">();</span>
</pre></div>

</details>
<details class="summary"><summary>.ToString</summary><p>The function <code>ToString</code> will return the NDEF data as a string, treating each byte as a character.
If the character is not printable it will be replaced with '.'.
If NDEF is not detected then "NDEF is Not Detected" will be returned.
If NDEF is null then "NDEF is NULL" will be returned.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">string_ndef</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">ndef</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ToString</span><span class="p">();</span>
</pre></div>

</details>
</details>
<details class="info" open="open"><summary>PagesContent</summary><p>The <code>PagesContent</code> class holds the pages that were read.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Create NFCData object</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCData</span> <span class="n">data</span> <span class="o">=</span> <span class="n">NFCData</span><span class="p">();</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="c1">// All class data members</span>
<span class="kt">bool</span> <span class="n">recently_updated</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">// True if new tag was read, false if no tag found</span>
<span class="kt">bool</span> <span class="n">read_complete</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">// True if all pages were read, false if read was interrupted</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;&gt;</span> <span class="n">content</span><span class="p">;</span> <span class="c1">// All data read from the NFC Tag, by page</span>
</pre></div>

<p>All examples below assume that an NFCData object was created and that the <code>pages</code> member has already been populated by use of the <code>ReadPages</code> function (from <code>MFUL</code> and <code>NTAG</code> classes).</p>
<details class="summary"><summary>.ToHex</summary><p>The function <code>ToHex</code> will return all pages as a string. Every page will be on a new line and will be prefixed with "Page HEX: " where HEX is a hex number. Each byte will be outputted as hex.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">hex_pages</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">pages</span><span class="p">.</span><span class="n">ToHex</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ToHex</span><span class="p">();</span>
</pre></div>

</details>
<details class="summary"><summary>.ToString</summary><p>The function <code>ToString</code> will return all pages as a string, treating each byte as a character.
If the character is not printable it will be replaced with '.'.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">string_pages</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">pages</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ToString</span><span class="p">();</span>
</pre></div>

</details>
<p>The following functions are static and can be used to convert a byte (uint8_t) vector to a string.</p>
<details class="summary"><summary>.BytesToHex</summary><p>The function <code>BytesToHex</code> will convert a uint8_t vector to a hex string and return the string. Each byte will be outputted as hex.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span> <span class="n">page</span> <span class="o">=</span> <span class="n">nfc</span><span class="p">.</span><span class="n">mful</span><span class="p">.</span><span class="n">ReadPage</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">page_hex_string</span> <span class="o">=</span> <span class="n">matrix_hal</span><span class="o">::</span><span class="n">PagesContent</span><span class="o">::</span><span class="n">BytesToHex</span><span class="p">(</span><span class="n">read_page</span><span class="p">);</span>

<span class="c1">// Function declaration in header file</span>
<span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">BytesToHex</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">vec</span><span class="p">);</span>
</pre></div>

</details>
<details class="summary"><summary>.BytesToString</summary><p>The function <code>BytesToString</code> will convert a uint8_t vector to a string and return the string. Each byte will be treated as a character.
If the character is not printable it will be replaced with '.'.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span> <span class="n">page</span> <span class="o">=</span> <span class="n">nfc</span><span class="p">.</span><span class="n">mful</span><span class="p">.</span><span class="n">ReadPage</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">page_char_string</span> <span class="o">=</span> <span class="n">matrix_hal</span><span class="o">::</span><span class="n">PagesContent</span><span class="o">::</span><span class="n">BytesToString</span><span class="p">(</span><span class="n">read_page</span><span class="p">);</span>

<span class="c1">// Function declaration in header file</span>
<span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">BytesToString</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">vec</span><span class="p">);</span>
</pre></div>

</details>
</details>
<h3 id="classes-for-ndef-parsing">Classes for NDEF Parsing</h3>
<details class="info" open="open"><summary>NDEFParser</summary><p>The <code>NDEFParser</code> class is used to parse and modify NDEF messages. An instance of this object can be written to an NFC tag with the <code>Write</code> function (from <code>NDEF</code> class).</p>
<p>This class has multiple constructors.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Create an empty NDEFParser object</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="c1">// Code to populate data.ndef with an NDEF message read from tag</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCData</span> <span class="n">data</span> <span class="o">=</span> <span class="n">NFCData</span><span class="p">();</span>
<span class="c1">// Must first activate card</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Activate</span><span class="p">();</span>
<span class="kt">int</span> <span class="n">status_code</span> <span class="o">=</span> <span class="n">nfc</span><span class="p">.</span><span class="n">ndef</span><span class="p">.</span><span class="n">Read</span><span class="p">(</span><span class="o">&amp;</span><span class="n">data</span><span class="p">.</span><span class="n">ndef</span><span class="p">);</span>
<span class="c1">// To print a string corresponding to the status code</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">matrix_hal</span><span class="o">::</span><span class="n">NFCStatus</span><span class="p">(</span><span class="n">status_code</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// Deactivate the card after completing desired action</span>
<span class="n">nfc</span><span class="p">.</span><span class="n">Deactivate</span><span class="p">();</span>

<span class="c1">// Create a NDEFParser object using the data from a NDEFContent object</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">(</span><span class="o">&amp;</span><span class="n">data</span><span class="p">.</span><span class="n">ndef</span><span class="p">);</span>
</pre></div>

<details class="summary"><summary>.AddUriRecord</summary><p>The function <code>AddUriRecord</code> will add a uri record to the <code>NDEFParser</code>. When a tag containing this NDEF record is scanned by an android phone it will open the uri in a browser.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Add uri record</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddUriRecord</span><span class="p">(</span><span class="s">&quot;http://docs.matrix.one&quot;</span><span class="p">);</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">void</span> <span class="nf">AddUriRecord</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">uri</span><span class="p">);</span>
</pre></div>

</details>
<details class="summary"><summary>.AddTextRecord</summary><p>The function <code>AddTextRecord</code> will add a text record to the <code>NDEFParser</code>. This function is overloaded, optionally accepting an encoding. If no encoding if provided then "en" is used.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Add text record</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddTextRecord</span><span class="p">(</span><span class="s">&quot;hello world!&quot;</span><span class="p">);</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">void</span> <span class="nf">AddTextRecord</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">text</span><span class="p">);</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Add text record</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddTextRecord</span><span class="p">(</span><span class="s">&quot;hola mundo!&quot;</span><span class="p">,</span> <span class="s">&quot;es&quot;</span><span class="p">);</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">void</span> <span class="nf">AddTextRecord</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">text</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">encoding</span><span class="p">);</span>
</pre></div>

</details>
<details class="summary"><summary>.AddEmptyRecord</summary><p>The function <code>AddEmptyRecord</code> will add a empty NDEF record to the <code>NDEFParser</code>.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Add empty record</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddEmptyRecord</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">void</span> <span class="nf">AddEmptyRecord</span><span class="p">();</span>
</pre></div>

</details>
<details class="summary"><summary>.AddMimeMediaRecord</summary><p>The function <code>AddMimeMediaRecord</code> will add a MIME media NDEF record to the <code>NDEFParser</code>. For more information on MIME media types see <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types#Structure_of_a_MIME_type">Mozilla's MIME type documentation</a>. This function is overloaded and can either accept a uint8_t payload or a string payload.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Add MIME media record</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddMimeMediaRecord</span><span class="p">(</span><span class="s">&quot;text/plain&quot;</span><span class="p">,</span> <span class="s">&quot;hello world!&quot;</span><span class="p">);</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">void</span> <span class="nf">AddMimeMediaRecord</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">mimeType</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">payload</span><span class="p">);</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Add MIME media record</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span> <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="sc">&#39;h&#39;</span><span class="p">,</span> <span class="sc">&#39;e&#39;</span><span class="p">,</span> <span class="sc">&#39;l&#39;</span><span class="p">,</span> <span class="sc">&#39;l&#39;</span><span class="p">,</span> <span class="sc">&#39;o&#39;</span><span class="p">,</span> <span class="sc">&#39; &#39;</span><span class="p">,</span> <span class="sc">&#39;w&#39;</span><span class="p">,</span> <span class="sc">&#39;o&#39;</span><span class="p">,</span> <span class="sc">&#39;r&#39;</span><span class="p">,</span> <span class="sc">&#39;l&#39;</span><span class="p">,</span> <span class="sc">&#39;d&#39;</span><span class="p">,</span> <span class="sc">&#39;!&#39;</span><span class="p">};</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddMimeMediaRecord</span><span class="p">(</span><span class="s">&quot;text/plain&quot;</span><span class="p">,</span> <span class="n">payload</span><span class="p">.</span><span class="n">data</span><span class="p">(),</span> <span class="n">payload</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">void</span> <span class="nf">AddMimeMediaRecord</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">mimeType</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="o">*</span> <span class="n">payload</span><span class="p">,</span> <span class="kt">int</span> <span class="n">payloadLength</span><span class="p">);</span>
</pre></div>

</details>
<details class="summary"><summary>.AddRecord</summary><p>The function <code>AddRecord</code> will add a <code>NDEFRecord</code> to the <code>NDEFParser</code>. This can be used to add custom NDEF records to a NDEF message. For more info see the <code>NDEFRecord</code> class.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFRecord</span> <span class="n">ndef_record</span> <span class="o">=</span> <span class="n">NDEFRecord</span><span class="p">();</span>
<span class="c1">// Modify ndef_record as needed</span>
<span class="c1">// Add record to ndef_parser</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddRecord</span><span class="p">(</span><span class="n">ndef_record</span><span class="p">);</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">bool</span> <span class="nf">AddRecord</span><span class="p">(</span><span class="n">NDEFRecord</span><span class="o">&amp;</span> <span class="n">record</span><span class="p">);</span>
</pre></div>

</details>
<details class="summary"><summary>.ToString</summary><p>The function <code>ToString</code> will return a string with information about the NDEF message.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Adding some records to NDEFParser</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddUriRecord</span><span class="p">(</span><span class="s">&quot;http://docs.matrix.one&quot;</span><span class="p">);</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddTextRecord</span><span class="p">(</span><span class="s">&quot;hello world!&quot;</span><span class="p">);</span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ndef_parser_string</span> <span class="o">=</span> <span class="n">ndef_parser</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ToString</span><span class="p">();</span>
</pre></div>

</details>
<details class="summary"><summary>.GetEncodedSize" &amp; ".Encode</summary><p>The function <code>GetEncodedSize</code> will return the size of the encoded representation of the NDEF message. It is used to create a <code>uint8_t</code> array large enough to store the encoded message.</p>
<p>The function <code>Encode</code> will encode the NDEF message into the proper format for writing to an NFC tag.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Adding some records to NDEFParser</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddUriRecord</span><span class="p">(</span><span class="s">&quot;http://docs.matrix.one&quot;</span><span class="p">);</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddTextRecord</span><span class="p">(</span><span class="s">&quot;hello world!&quot;</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="n">ndef_parser</span><span class="p">.</span><span class="n">GetEncodedSize</span><span class="p">();</span>
<span class="kt">uint8_t</span> <span class="n">encoded_ndef_message</span><span class="p">[</span><span class="n">size</span><span class="p">];</span>
<span class="c1">// Populate encoded_ndef_message</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">Encode</span><span class="p">(</span><span class="n">encoded_ndef_message</span><span class="p">);</span>

<span class="c1">// Function declarations in header file</span>
<span class="kt">int</span> <span class="nf">GetEncodedSize</span><span class="p">();</span>

<span class="kt">void</span> <span class="nf">Encode</span><span class="p">(</span><span class="kt">uint8_t</span><span class="o">*</span> <span class="n">data</span><span class="p">);</span>
</pre></div>

</details>
<details class="summary"><summary>.GetRecordCount" &amp; ".GetRecord</summary><p>The function <code>GetRecordCount</code> will return the number of NDEF records inside the NDEF message.</p>
<p>The function <code>GetRecord</code> will return the NDEF record at a specified index.</p>
<p>The NDEFParser class also overloads the bracket operator to return the NDEF record at a specified index.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Adding some records to NDEFParser</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddUriRecord</span><span class="p">(</span><span class="s">&quot;http://docs.matrix.one&quot;</span><span class="p">);</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddTextRecord</span><span class="p">(</span><span class="s">&quot;hello world!&quot;</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="n">ndef_parser</span><span class="p">.</span><span class="n">GetRecordCount</span><span class="p">();</span>
<span class="c1">// Get the last NDEF record</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFRecord</span> <span class="n">last_record</span> <span class="o">=</span> <span class="n">ndef_parser</span><span class="p">.</span><span class="n">GetRecord</span><span class="p">(</span><span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
<span class="c1">// Alternatively Using operator[] overload instead of .GetRecord function</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFRecord</span> <span class="n">last_record</span> <span class="o">=</span> <span class="n">ndef_parser</span><span class="p">[</span><span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>

<span class="c1">// Function/operator declarations in header file</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">GetRecordCount</span><span class="p">();</span>

<span class="n">NDEFRecord</span> <span class="nf">GetRecord</span><span class="p">(</span><span class="kt">int</span> <span class="n">index</span><span class="p">);</span>

<span class="n">NDEFRecord</span> <span class="k">operator</span><span class="p">[](</span><span class="kt">int</span> <span class="n">index</span><span class="p">);</span>
</pre></div>

</details>
</details>
<details class="info" open="open"><summary>NDEFRecord</summary><p>The <code>NDEFRecord</code> class is used to create custom NDEF records, for use with <code>NDEFParser</code>.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Create an empty NDEFRecord object</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFRecord</span> <span class="n">ndef_record</span> <span class="o">=</span> <span class="n">NDEFRecord</span><span class="p">();</span>
</pre></div>

<details class="summary"><summary>.GetPayloadLength" &amp; ".GetPayload</summary><p>The function <code>GetPayloadLength</code> will return the length of the NDEF record's payload parameter.</p>
<p>The function <code>GetPayload</code> will populate a uint8_t array with the NDEF record's payload parameter.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Adding some records to NDEFParser</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddUriRecord</span><span class="p">(</span><span class="s">&quot;http://docs.matrix.one&quot;</span><span class="p">);</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddTextRecord</span><span class="p">(</span><span class="s">&quot;hello world!&quot;</span><span class="p">);</span>

<span class="c1">// Get the first record</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFRecord</span> <span class="n">first_record</span> <span class="o">=</span> <span class="n">ndef_parser</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="c1">// Get first record&#39;s payload</span>
<span class="kt">int</span> <span class="n">payload_size</span> <span class="o">=</span> <span class="n">first_record</span><span class="p">.</span><span class="n">GetPayloadLength</span><span class="p">();</span>
<span class="kt">uint8_t</span><span class="o">*</span> <span class="n">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">uint8_t</span><span class="p">[</span><span class="n">payload_size</span><span class="p">];</span>

<span class="c1">// Function declarations in header file</span>
<span class="kt">int</span> <span class="nf">GetPayloadLength</span><span class="p">();</span>

<span class="kt">void</span> <span class="nf">GetPayload</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="o">*</span><span class="n">payload</span><span class="p">);</span>
</pre></div>

</details>
<details class="summary"><summary>.GetTypeLength" &amp; ".GetType</summary><p>The function <code>GetTypeLength</code> will return the length of the NDEF record's type parameter</p>
<p>The function <code>GetType</code> will populate a uint8_t array with the NDEF record's type parameter</p>
<p>The <code>GetType</code> function is also overloaded, returning a string of the type parameter instead if called with no argument.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Adding some records to NDEFParser</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddUriRecord</span><span class="p">(</span><span class="s">&quot;http://docs.matrix.one&quot;</span><span class="p">);</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddTextRecord</span><span class="p">(</span><span class="s">&quot;hello world!&quot;</span><span class="p">);</span>

<span class="c1">// Get the first record</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFRecord</span> <span class="n">first_record</span> <span class="o">=</span> <span class="n">ndef_parser</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="c1">// Get first record&#39;s type</span>
<span class="kt">int</span> <span class="n">type_size</span> <span class="o">=</span> <span class="n">first_record</span><span class="p">.</span><span class="n">GetTypeLength</span><span class="p">();</span>
<span class="kt">uint8_t</span><span class="o">*</span> <span class="n">type</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">uint8_t</span><span class="p">[</span><span class="n">type_size</span><span class="p">];</span>

<span class="c1">// Alternatively get type string</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">type_string</span> <span class="o">=</span> <span class="n">first_record</span><span class="p">.</span><span class="n">GetType</span><span class="p">();</span>

<span class="c1">// Function declarations in header file</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">GetTypeLength</span><span class="p">();</span>

<span class="kt">void</span> <span class="nf">GetType</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="o">*</span><span class="n">type</span><span class="p">);</span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetType</span><span class="p">();</span>
</pre></div>

</details>
<details class="summary"><summary>.GetIdLength" &amp; ".GetId</summary><p>The function <code>GetIdLength</code> will return the length of the NDEF record's ID parameter.</p>
<p>The function <code>GetId</code> will populate a uint8_t array with the NDEF record's ID parameter.</p>
<p>The <code>GetId</code> function is also overloaded, returning a string of the ID parameter instead if called with no argument.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Adding some records to NDEFParser</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddUriRecord</span><span class="p">(</span><span class="s">&quot;http://docs.matrix.one&quot;</span><span class="p">);</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddTextRecord</span><span class="p">(</span><span class="s">&quot;hello world!&quot;</span><span class="p">);</span>

<span class="c1">// Get the first record</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFRecord</span> <span class="n">first_record</span> <span class="o">=</span> <span class="n">ndef_parser</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="c1">// Get first record&#39;s ID</span>
<span class="kt">int</span> <span class="n">id_size</span> <span class="o">=</span> <span class="n">first_record</span><span class="p">.</span><span class="n">GetTypeLength</span><span class="p">();</span>
<span class="kt">uint8_t</span><span class="o">*</span> <span class="n">type</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">uint8_t</span><span class="p">[</span><span class="n">id_size</span><span class="p">];</span>

<span class="c1">// Alternatively get ID string</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">id_string</span> <span class="o">=</span> <span class="n">first_record</span><span class="p">.</span><span class="n">GetId</span><span class="p">();</span>

<span class="c1">// Function declarations in header file</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">GetIdLength</span><span class="p">();</span>

<span class="kt">void</span> <span class="nf">GetId</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="o">*</span><span class="n">id</span><span class="p">);</span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetId</span><span class="p">();</span>
</pre></div>

</details>
<details class="summary"><summary>.GetTnf</summary><p>The function <code>GetTnf</code> will return a uint8_t of the NDEF record's TNF parameter.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Adding some records to NDEFParser</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddUriRecord</span><span class="p">(</span><span class="s">&quot;http://docs.matrix.one&quot;</span><span class="p">);</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddTextRecord</span><span class="p">(</span><span class="s">&quot;hello world!&quot;</span><span class="p">);</span>

<span class="c1">// Get the first record</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFRecord</span> <span class="n">first_record</span> <span class="o">=</span> <span class="n">ndef_parser</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="c1">// Get first record&#39;s TNF</span>
<span class="kt">uint8_t</span> <span class="n">tnf</span> <span class="o">=</span> <span class="n">first_record</span><span class="p">.</span><span class="n">GetTnf</span><span class="p">();</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">uint8_t</span> <span class="nf">GetTnf</span><span class="p">();</span>
</pre></div>

</details>
<details class="summary"><summary>.SetTnf</summary><p>The function <code>SetTnf</code> will set the NDEF record's TNF parameter to the value passed in.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Adding some records to NDEFParser</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddUriRecord</span><span class="p">(</span><span class="s">&quot;http://docs.matrix.one&quot;</span><span class="p">);</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddTextRecord</span><span class="p">(</span><span class="s">&quot;hello world!&quot;</span><span class="p">);</span>

<span class="c1">// Get the first record</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFRecord</span> <span class="n">first_record</span> <span class="o">=</span> <span class="n">ndef_parser</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="c1">// Set first record&#39;s TNF</span>
<span class="kt">uint8_t</span> <span class="n">tnf_to_set</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">first_record</span><span class="p">.</span><span class="n">SetTnf</span><span class="p">(</span><span class="n">tnf_to_set</span><span class="p">);</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">void</span> <span class="nf">SetTnf</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">tnf</span><span class="p">);</span>
</pre></div>

</details>
<details class="summary"><summary>.SetType</summary><p>The function <code>SetType</code> will set the NDEF record's type parameter to the value passed in.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Adding some records to NDEFParser</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddUriRecord</span><span class="p">(</span><span class="s">&quot;http://docs.matrix.one&quot;</span><span class="p">);</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddTextRecord</span><span class="p">(</span><span class="s">&quot;hello world!&quot;</span><span class="p">);</span>

<span class="c1">// Get the first record</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFRecord</span> <span class="n">first_record</span> <span class="o">=</span> <span class="n">ndef_parser</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="c1">// Set first record&#39;s type</span>
<span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="kt">uint8_t</span> <span class="n">type_to_set</span><span class="p">[</span><span class="n">size</span><span class="p">]</span> <span class="o">=</span> <span class="p">{};</span>
<span class="n">first_record</span><span class="p">.</span><span class="n">SetType</span><span class="p">(</span><span class="n">type_to_set</span><span class="p">,</span> <span class="n">size</span><span class="p">);</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">void</span> <span class="nf">SetType</span><span class="p">(</span><span class="k">const</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">type</span><span class="p">,</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">numBytes</span><span class="p">);</span>
</pre></div>

</details>
<details class="summary"><summary>.SetPayload</summary><p>The function <code>SetPayload</code> will set the NDEF record's payload parameter to the value passed in.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Adding some records to NDEFParser</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddUriRecord</span><span class="p">(</span><span class="s">&quot;http://docs.matrix.one&quot;</span><span class="p">);</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddTextRecord</span><span class="p">(</span><span class="s">&quot;hello world!&quot;</span><span class="p">);</span>

<span class="c1">// Get the first record</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFRecord</span> <span class="n">first_record</span> <span class="o">=</span> <span class="n">ndef_parser</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="c1">// Set first record&#39;s payload</span>
<span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="kt">uint8_t</span> <span class="n">payload_to_set</span><span class="p">[</span><span class="n">size</span><span class="p">]</span> <span class="o">=</span> <span class="p">{};</span>
<span class="n">first_record</span><span class="p">.</span><span class="n">SetType</span><span class="p">(</span><span class="n">payload_to_set</span><span class="p">,</span> <span class="n">size</span><span class="p">);</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">void</span> <span class="nf">SetPayload</span><span class="p">(</span><span class="k">const</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">payload</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">numBytes</span><span class="p">);</span>
</pre></div>

</details>
<details class="summary"><summary>.SetId</summary><p>The function <code>SetId</code> will set the NDEF record's ID parameter to the value passed in.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Usage</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFParser</span> <span class="n">ndef_parser</span> <span class="o">=</span> <span class="n">NDEFParser</span><span class="p">();</span>
<span class="c1">// Adding some records to NDEFParser</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddUriRecord</span><span class="p">(</span><span class="s">&quot;http://docs.matrix.one&quot;</span><span class="p">);</span>
<span class="n">ndef_parser</span><span class="p">.</span><span class="n">AddTextRecord</span><span class="p">(</span><span class="s">&quot;hello world!&quot;</span><span class="p">);</span>

<span class="c1">// Get the first record</span>
<span class="n">matrix_hal</span><span class="o">::</span><span class="n">NDEFRecord</span> <span class="n">first_record</span> <span class="o">=</span> <span class="n">ndef_parser</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="c1">// Set first record&#39;s ID</span>
<span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="kt">uint8_t</span> <span class="n">id_to_set</span><span class="p">[</span><span class="n">size</span><span class="p">]</span> <span class="o">=</span> <span class="p">{};</span>
<span class="n">first_record</span><span class="p">.</span><span class="n">SetId</span><span class="p">(</span><span class="n">id_to_set</span><span class="p">,</span> <span class="n">size</span><span class="p">);</span>

<span class="c1">// Function declaration in header file</span>
<span class="kt">void</span> <span class="nf">SetId</span><span class="p">(</span><span class="k">const</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">id</span><span class="p">,</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">numBytes</span><span class="p">);</span>
</pre></div>

</details>
</details> 
        </div>
        <div class="toc-parent col-lg-2 col-md-3">
          <div class="toc">
            
            <h3>Contents</h3>
            <ul class="nav flex-column">
               <li class='nav-item'>
  <a href="#device-compatibility" class="nav-link active">
    Device Compatibility
  </a>
  
</li>  <li class='nav-item'>
  <a href="#overview" class="nav-link ">
    Overview
  </a>
  
</li>  <li class='nav-item'>
  <a href="#references" class="nav-link ">
    References
  </a>
  
  <ul>
    
    <li>
      <a class="nav-link" href="#classes-for-nfc-tag-commands">
        Classes for NFC tag commands
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#classes-for-nfc-data-storage">
        Classes for NFC data storage
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#classes-for-ndef-parsing">
        Classes for NDEF Parsing
      </a>
    </li>
    
  </ul>
  
</li> 
            </ul>
          </div>
        </div>
        
      </div>
    </div>
  </div>

  <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8">
        <div class="row">
          <div class="col-sm-4">
            <h5>MATRIX</h5>
            <ul>
              <li>
                <a href="https://matrix.one/products/creator" target="_blank">Creator</a>
              </li>
              <li>
                <a href="https://matrix.one/products/voice" target="_blank">Voice</a>
              </li>
              <li>
                <a href="http://community.matrix.one/" target="_blank">Community</a>
              </li>
            </ul>
          </div>
          <div class="col-sm-4">
            <h5>Learn</h5>
            <ul>
              <li>
                <a href="https://www.matrix.one/educators" target="_blank">Educators</a>
              </li>
              <li>
                <a href="https://www.matrix.one/developers" target="_blank">Developers</a>
              </li>
              <li>
                <a href="https://www.matrix.one/resources" target="_blank">Resources</a>
              </li>
            </ul>
          </div>
          <div class="col-sm-4">
            <h5>Social Network</h5>
            <ul>
              <li>
                <a href="https://www.facebook.com/MATRIXCreator" target="_blank">Facebook</a>
              </li>
              <li>
                <a href="https://twitter.com/matrix_creator" target="_blank">Twitter</a>
              </li>
              <li>
                <a href="https://www.youtube.com/channel/UCBIqR8r0tfY6W-4-YpZ7NeQ" target="_blank">YouTube</a>
              </li>
              <li>
                <a href="https://www.instagram.com/matrix_creator/" target="_blank">Instagram</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <h5>Contact</h5>
        <ul>
          <li>
            <a href="https://matrix.one/contact">Contact Us</a>
          </li>
          <li class="subscribe-box">
            <form id="newsletter-form">
              <div class="input-group">
                <input id="newsletter-email" type="email" class="form-control" placeholder="Subscribe for Updates">
                <button type="submit" class="btn btn-success">Subscribe</button>
              </div>
              <label for="newsletter-email"></label>
            </form>
          </li>
        </ul>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-6">
        <a href="https://creator.matrix.one" class="company-logo">
          <img src="../../../img/everloop.png" width="38" height="38" class="d-inline-block align-top" alt="">
          <span>MATRIX</span>
        </a>
        <small class="copyright">
          2019 &copy; MATRIX - All rights reserved
        </small>
      </div>
      <div class="col-sm-6">
        <div class="utility-links">
          <a href="https://matrix.one/policies/terms">Terms of Service</a>
          <a href="https://matrix.one/policies/privacy">Privacy Policy</a>
          <a href="https://matrix.one/policies/cookie">Cookie Policy</a>
        </div>
      </div>
    </div>
  </div>
</footer>
  <!--Global Vars-->
  <script>
    base_url = "../../..";
  </script>
  <!-- Scripts -->
  <script src="../../../js/clipboard.min.js"></script>
  <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
  <script src="../../../js/theme.js"></script>
  <script src="https://use.fontawesome.com/21aeb6fedc.js"></script>
  <script src="../../../js/jquery.ajaxchimp.min.js"></script>
  <script src="../../../js/jquery.ajaxchimp.langs.min.js"></script>
  <script src="../../../js/footer.js"></script>

  <!-- TOC Script -->
  <script>
    jQuery(function($) {
      $('.toc-parent ul li a').on('click', function() {
        var removedElement = $(this)
          .closest('.toc-parent ul li')
          .find('a.active')
          .removeClass('active');

        if (removedElement.length == 0) {
          $('.toc-parent ul li').find('a.active').removeClass('active');
        }

        $(this).addClass('active');
      });
    });
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-38180903-26', 'auto');
    ga('send', 'pageview');
  </script>
  
</body>

</html>